diff --git a/subrepo/nnheaders/include/nn/util/util_BitUtil.h b/subrepo/nnheaders/include/nn/util/util_BitUtil.h
index 8fdf58c..083d6c6 100644
--- a/subrepo/nnheaders/include/nn/util/util_BitUtil.h
+++ b/subrepo/nnheaders/include/nn/util/util_BitUtil.h
@@ -8,7 +8,7 @@ template <typename T>
 T align_up(T x, size_t align) {
     typedef typename detail::MakeUnsigned<T>::Type UIntType;
     UIntType mask = align - 1;
-    return (x + mask) & ~mask;
+    return reinterpret_cast<T>((UIntType)(x + mask) & ~mask);
 }
 
-}  // namespace nn::util
\ No newline at end of file
+}  // namespace nn::util
diff --git a/subrepo/nnheaders/include/nn/util/util_BytePtr.h b/subrepo/nnheaders/include/nn/util/util_BytePtr.h
index 500c598..690ca46 100644
--- a/subrepo/nnheaders/include/nn/util/util_BytePtr.h
+++ b/subrepo/nnheaders/include/nn/util/util_BytePtr.h
@@ -32,8 +32,8 @@ public:
     bool IsAligned(size_t alignment) const;
 
     BytePtr& AlignUp(size_t alignment) {
-        uintptr_t& ptr = reinterpret_cast<uintptr_t&>(m_Ptr);
-        ptr = align_up(ptr, alignment);
+        //uintptr_t& ptr = reinterpret_cast<uintptr_t&>(m_Ptr); error: dereferencing type-punned pointer will break strict-aliasing rules
+        align_up((void*)m_Ptr, alignment);
         return *this;
     }
 
